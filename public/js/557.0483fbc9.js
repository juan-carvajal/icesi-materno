(self["webpackChunkicesi_materno"]=self["webpackChunkicesi_materno"]||[]).push([[557],{69557:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>C});var t=s(83673),l=s(12730),i=s(63343),r=s.n(i);const o={class:"bg-primary fullscreen row justify-center items-center"},n={class:"column q-pa-sm"},u={class:"row"};function d(e,a,s,i,d,m){const c=(0,t.up)("q-img"),p=(0,t.up)("q-input"),g=(0,t.up)("q-card-section"),h=(0,t.up)("q-btn"),q=(0,t.up)("q-card-actions"),f=(0,t.up)("q-card"),w=(0,t.up)("q-form");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",n,[(0,t.Wm)(c,{src:r()}),(0,t._)("div",u,[(0,t.Wm)(w,{onSubmit:(0,l.iM)(e.logInUser,["prevent"])},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{bordered:"",class:"q-pa-lg q-ma-lg shadow-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{class:"q-gutter-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{square:"",filled:"",clearable:"",modelValue:e.email,"onUpdate:modelValue":a[0]||(a[0]=a=>e.email=a),type:"email",label:"Email",rules:[e=>!!e||"Este campo es requerido"]},null,8,["modelValue","rules"]),(0,t.Wm)(p,{square:"",filled:"",clearable:"",modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=a=>e.password=a),type:"password",label:"Contraseña",rules:[e=>!!e||"Este campo es requerido"]},null,8,["modelValue","rules"])])),_:1}),(0,t.Wm)(q,{class:"q-px-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{unelevated:"",color:"primary",class:"full-width",label:"Entrar",type:"submit",loading:e.isLoading},null,8,["loading"])])),_:1})])),_:1})])),_:1},8,["onSubmit"])])])])}var m=s(9594),c=s(93617),p=s(48879),g=s(87480),h=s(12942);const q=(0,t.aZ)({name:"Login",data(){return{email:"",password:""}},setup(){const e=(0,c.oR)(p.storeKey),a=(0,m.iH)(!1),s=(0,m.Fl)((()=>e.state.auth.isLoggedIn));return{isLoggedIn:s,isLoading:a}},methods:{logInUser(){this.isLoading=!0,(0,g.e5)(h.auth,this.email,this.password).then((({user:e})=>{this.$q.notify({type:"positive",message:`Bienvenido ${e.displayName??e.email??""}`})})).catch((e=>{console.log(e),this.$q.notify({type:"negative",message:"Ocurrió un error de autenticación."})})).finally((()=>{this.isLoading=!1}))}},watch:{isLoggedIn:{immediate:!0,handler(e){e&&this.$router.push({path:this.$route.query.redirect?.toString()??"/"})}}}});var f=s(74260),w=s(24027),b=s(68689),y=s(10151),v=s(25589),Z=s(64689),L=s(99367),W=s(48240),_=s(7518),I=s.n(_);const Q=(0,f.Z)(q,[["render",d]]),C=Q;I()(q,"components",{QImg:w.Z,QForm:b.Z,QCard:y.Z,QCardSection:v.Z,QInput:Z.Z,QCardActions:L.Z,QBtn:W.Z})},63343:(e,a,s)=>{e.exports=s.p+"img/app-logo.80052cb6.svg"}}]);