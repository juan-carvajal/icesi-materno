"use strict";(self["webpackChunkicesi_materno"]=self["webpackChunkicesi_materno"]||[]).push([[634],{16496:(e,a,t)=>{function l(e){return[...e].reduce(((e,a)=>a.charCodeAt(0)+((e<<5)-e)),0)%360}function r(e){return`hsl(${l(e)}, 80%, 80%)`}t.d(a,{dF:()=>r})},69634:(e,a,t)=>{t.r(a),t.d(a,{default:()=>S});var l=t(83673),r=t(82942),s=t(12730);const u=(0,l.Uk)(" Perfil de Usuario "),o={class:"row q-col-gutter-sm"},n={class:"col-12"},c={key:0,class:"text-h6 text-grey"},m={key:1,class:"text-body1 text-grey q-mb-none"},d=(0,l._)("p",{class:"q-mb-none text-body1"},"+57",-1);function i(e,a,t,i,p,f){const b=(0,l.up)("q-icon"),q=(0,l.up)("q-toolbar-title"),y=(0,l.up)("q-toolbar"),g=(0,l.up)("q-avatar"),U=(0,l.up)("q-card-section"),w=(0,l.up)("q-separator"),h=(0,l.up)("q-badge"),v=(0,l.up)("q-input"),D=(0,l.up)("q-select"),k=(0,l.up)("q-btn"),W=(0,l.up)("q-form"),_=(0,l.up)("q-card"),x=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(x,{class:"q-ma-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{class:"text-primary q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{name:"account_circle"}),(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[u])),_:1})])),_:1}),(0,l._)("div",o,[(0,l._)("div",n,[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(U,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"q-mb-md",size:"75px",style:(0,r.j5)({backgroundColor:e.getBackgroundColor(e.currentUser.email??"")})},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.currentUser.email?.toUpperCase()?.charAt(0)??""),1)])),_:1},8,["style"]),e.currentUser.displayName?((0,l.wg)(),(0,l.iD)("p",c,(0,r.zw)(e.currentUser.displayName),1)):(0,l.kq)("",!0),e.currentUser.email?((0,l.wg)(),(0,l.iD)("p",m,(0,r.zw)(e.currentUser.email),1)):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(w),(0,l.Wm)(U,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"text-overline"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.currentUser.roleName??"Anónimo"),1)])),_:1})])),_:1}),(0,l.Wm)(w),(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W,{onSubmit:a[5]||(a[5]=(0,s.iM)((a=>e.updateUserData(e.userData,e.currentUser?.uid??"")),["prevent"])),class:"row q-col-gutter-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"col-12 col-sm-6",type:"text",label:"Nombres",modelValue:e.userData.firstName,"onUpdate:modelValue":a[0]||(a[0]=a=>e.userData.firstName=a),rules:[e=>!!e||"Este campo es requerido"]},null,8,["modelValue","rules"]),(0,l.Wm)(v,{class:"col-12 col-sm-6",type:"text",label:"Apellidos",modelValue:e.userData.lastName,"onUpdate:modelValue":a[1]||(a[1]=a=>e.userData.lastName=a),rules:[e=>!!e||"Este campo es requerido"]},null,8,["modelValue","rules"]),(0,l.Wm)(D,{class:"col-12 col-sm-6",label:"Tipo de documento",options:e.documentTypes,modelValue:e.userData.documentType,"onUpdate:modelValue":a[2]||(a[2]=a=>e.userData.documentType=a),rules:[e=>!!e||"Este campo es requerido"]},null,8,["options","modelValue","rules"]),(0,l.Wm)(v,{class:"col-12 col-sm-6",type:"text",label:"Número de documento",mask:"###.###.###.###.###","reverse-fill-mask":"","unmasked-value":"",maxlength:"15",modelValue:e.userData.documentNumber,"onUpdate:modelValue":a[3]||(a[3]=a=>e.userData.documentNumber=a),rules:[e=>!!e||"Este campo es requerido"]},null,8,["modelValue","rules"]),(0,l.Wm)(v,{class:"col-12",type:"text",mask:"phone",label:"Teléfono","unmasked-value":"",modelValue:e.userData.phone,"onUpdate:modelValue":a[4]||(a[4]=a=>e.userData.phone=a),rules:[e=>!!e||"Este campo es requerido",e=>10===e.length||"Por favor ingrese un número valido"]},{prepend:(0,l.w5)((()=>[d])),_:1},8,["modelValue","rules"]),(0,l._)("div",null,[(0,l.Wm)(k,{color:"primary",type:"submit",label:"Actualizar"})])])),_:1})])),_:1})])),_:1})])])])),_:1})}var p,f=t(16496),b=t(9594);(function(e){e["CEDULA"]="Cédula de ciudadanía",e["PEP"]="Permiso especial de permanencia"})(p||(p={}));var q=t(48879),y=t(12942),g=t(28127),U=t(48825);const w=(0,l.aZ)({setup(){const e=Object.values(p),a=(0,q.useStore)(),t=(0,U.Z)(),r=(0,b.iH)({...a.state.auth.userData}??{});function s(e,a){t.loading.show(),(0,g.r7)((0,g.JU)(y.db,"userData",a),{...e}).then((()=>{t.notify({message:"Usuario actualizado con éxito",type:"positive"})})).catch((e=>{console.log(e),t.notify({message:"Ha ocurrido un error. Intente de nuevo",type:"negative"})})).finally((()=>{t.loading.hide()}))}return(0,l.YP)((()=>a.state.auth.userData),(()=>{r.value={...a.state.auth.userData}??{}})),{getBackgroundColor:f.dF,documentTypes:e,userData:r,updateUserData:s}},computed:{currentUser(){return this.$store.state.auth}}});var h=t(74260),v=t(24379),D=t(39570),k=t(24554),W=t(13747),_=t(10151),x=t(25589),Z=t(75096),V=t(65869),Q=t(69721),C=t(68689),N=t(64689),T=t(63314),z=t(48240),A=t(7518),E=t.n(A);const P=(0,h.Z)(w,[["render",i]]),S=P;E()(w,"components",{QPage:v.Z,QToolbar:D.Z,QIcon:k.Z,QToolbarTitle:W.Z,QCard:_.Z,QCardSection:x.Z,QAvatar:Z.Z,QSeparator:V.Z,QBadge:Q.Z,QForm:C.Z,QInput:N.Z,QSelect:T.Z,QBtn:z.Z})}}]);